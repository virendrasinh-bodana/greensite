<!DOCTYPE html>
{% load static %}
<html>
<head>
    <title>GreenSite</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <link rel="stylesheet" type="text/css" href="{% static 'main/style.css' %}">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.10.5/font/bootstrap-icons.css">
</head>
<body>

{% block navigation %}
     <nav class="navbar navbar-expand-lg navbar-dark bg-success">
        <a class="navbar-brand" href="{% url 'home' %}">GreenSite</a>
        <div class="collapse navbar-collapse">
            <ul class="navbar-nav me-auto">
                <li class="nav-item"><a class="nav-link" href="{% url 'articles' %}">Articles</a></li>
                <li class="nav-item"><a class="nav-link" href="{% url 'products' %}">Products</a></li>
                <!-- <li class="nav-item"><a class="nav-link" href="{% url 'submit_idea' %}">Submit Idea</a></li> -->
                <li class="nav-item"><a class="nav-link" href="{% url 'about' %}">About</a></li>
                <li class="nav-item"><a class="nav-link" href="{% url 'contact' %}">Contact</a></li>
            </ul>


            <!-- Cart icon added -->
            <a href="{% url 'cart' %}" class="btn btn-outline-light position-relative ms-2">
                <i class="bi bi-cart"></i>
                {% if request.session.cart %}
                    <span class="position-absolute top-0 start-100 translate-middle badge rounded-pill bg-danger">
                        {{ request.session.cart|length }}
                    </span>
                {% endif %}
            </a>
            
            <!-- Search bar and cart icon removed -->
            {% if user.is_authenticated %}
                <a class="btn btn-outline-danger ms-2" href="{% url 'logout' %}">Logout</a>
            {% else %}
                <a class="btn btn-outline-primary ms-2" href="{% url 'login' %}">Login</a>
                <a class="btn btn-outline-secondary ms-2" href="{% url 'register' %}">Register</a>
            {% endif %}
            
        </div>
    </nav>
{% endblock %}

    <div class="container mt-4">
        {% block content %}{% endblock %}
    </div>

    <footer class="bg-white border-top mt-4 pt-4 pb-2">
        <div class="container">
            <div class="row align-items-start">
                <div class="col-md-3 mb-3">
                    <h2 class="fw-bold" style="font-family: 'Georgia', serif; font-size: 2rem;"> GreenSite</h2>
                    <span class="text-muted" style="font-size: 1.1rem;">Sustainability for All.</span>
                </div>
                <div class="col-md-2 mb-3">
                    <ul class="list-unstyled">
                        <li><strong>Environment</strong></li>
                        <li class="mt-2"><strong>Business & Policy</strong></li>
                        <li class="mt-2"><strong>Home & Garden</strong></li>
                        <li class="mt-2"><strong>News</strong></li>
                    </ul>
                </div>
                <div class="col-md-2 mb-3">
                    <ul class="list-unstyled">
                        <li><a href="{% url 'about' %}" class="text-decoration-none text-dark">About Us</a></li>
                        <li><a href="#" class="text-decoration-none text-dark">Editorial Guidelines</a></li>
                        <li><a href="#" class="text-decoration-none text-dark">Careers</a></li>
                        <li><a href="{% url 'contact' %}" class="text-decoration-none text-dark">Contact</a></li>
                    </ul>
                </div>
                <div class="col-md-2 mb-3">
                    <ul class="list-unstyled">
                        <li><a href="#" class="text-decoration-none text-dark">Privacy Policy</a></li>
                        <li><a href="#" class="text-decoration-none text-dark">Terms of Service</a></li>
                        <li><a href="#" class="text-decoration-none text-dark">Advertise</a></li>
                        <li class="mt-2"><img src="https://privacy-policy.truste.com/privacy-seal/seal?rid=123456" alt="Privacy Feedback" style="height:24px;"></li>
                    </ul>
                </div>
                <div class="col-md-3 mb-3">
                    <div class="mb-2 fw-bold">Follow Us</div>
                    <a href="#" class="btn btn-outline-secondary btn-sm me-1" aria-label="Facebook"><i class="bi bi-facebook"></i></a>
                    <a href="#" class="btn btn-outline-secondary btn-sm me-1" aria-label="X"><i class="bi bi-twitter-x"></i></a>
                    <a href="#" class="btn btn-outline-secondary btn-sm me-1" aria-label="Instagram"><i class="bi bi-instagram"></i></a>
                    <a href="#" class="btn btn-outline-secondary btn-sm" aria-label="Pinterest"><i class="bi bi-pinterest"></i></a>
                </div>
            </div>
            <div class="row align-items-center mt-3">
                <div class="col-md-8 d-flex align-items-center">
                    <!-- <img src="https://upload.wikimedia.org/wikipedia/commons/6/6a/Dotdash_Meredith_logo.svg" alt="Dotdash Meredith" style="height:20px; margin-right:8px;">
                    <span class="small"> GreenSite is part of the <a href="#" class="text-decoration-underline">Dotdash Meredith</a> publishing family.</span> -->
                </div>
                <div class="col-md-4 text-end">
                    <span class="small text-danger">Please review our updated <a href="#" class="text-danger text-decoration-underline">Terms of Service</a>.</span>
                </div>
            </div>
        </div>
    </footer>

    <!-- Login Required Modal -->
    <div class="modal fade" id="loginRequiredModal" tabindex="-1" aria-labelledby="loginRequiredModalLabel" aria-hidden="true">
      <div class="modal-dialog modal-dialog-centered">
        <div class="modal-content">
          <div class="modal-header">
            <h5 class="modal-title" id="loginRequiredModalLabel">Login Required</h5>
            <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
          </div>
          <div class="modal-body">
            You must be logged in to perform this action.
          </div>
          <div class="modal-footer">
            <a href="{% url 'login' %}" class="btn btn-success">Login</a>
            <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Cancel</button>
          </div>
        </div>
      </div>
    </div>

    <!-- Bootstrap JS (for modal) -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
</body>
</html>
